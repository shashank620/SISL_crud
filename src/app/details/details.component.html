<p-toast></p-toast>
<p-confirmDialog></p-confirmDialog>

<div class="p-grid p-justify-between p-align-center" [style]="{padding:'1.8rem'}">
    <h2 class="user">Users Details</h2>
    <button pButton label="Add User" icon="pi pi-plus" (click)="openNew()"></button>
</div>

<p-table [value]="people" [rows]="10" [responsiveLayout]="'scroll'" [resizableColumns]="true">
    <ng-template pTemplate="header">
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Email</th>
            <th>Phone</th>
            <th>Actions</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-person>
        <tr>
            <td>{{person.id}}</td>
            <td>{{ person.name }}</td>
            <td>{{ person.email }}</td>
            <td>{{ person.phone }}</td>
            <td>
                <button pButton icon="pi pi-pencil" label="Edit" (click)="editPerson(person)"></button>
                <button pButton icon="pi pi-trash" label="Delete" class="p-button-danger" (click)="deletePerson(person)"></button>
            </td>
        </tr>
    </ng-template>
</p-table>

<p-dialog [(visible)]="displayDialog" header="User Details" [modal]="true" [closable]="false" [resizable]="false" [style]="{ width: '25rem', padding:'1.8rem'}">
    <form [formGroup]="personForm">
        <div class="p-field">
            <label for="name">Name: </label>
            <input id="name" pInputText formControlName="name" />
        </div>
        <div class="p-field">
            <label for="email">Email: </label>
            <input id="email" pInputText formControlName="email" />
        </div>
        <div class="p-field">
            <label for="phone">Phone: </label>
            <input id="phone" pInputText formControlName="phone" />
        </div>
    </form>
    <p-footer>
        <button pButton label="Save" icon="pi pi-check" (click)="savePerson()"></button>
        <button pButton label="Cancel" icon="pi pi-times" class="p-button-secondary"
            (click)="displayDialog=false"></button>
    </p-footer>
</p-dialog>
